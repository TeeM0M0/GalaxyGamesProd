{% extends 'base.html.twig' %}

{% block title %}
	{{parent()}}Liste des messages support
{% endblock %}

{% block body %}
	<h1 class="text-center text-info mt-4 pt-4 display-1 fw-bold">Liste des messages support</h1>

	<div class="row justify-content-center">
		<div class="col-12 col-md-8 bg-white p-4 m-0 text-primary">
			<div class="table-responsive">
				<table class="table table-hover table align-middle">
					<thead>
						<tr class="fw-bold text-info text-center">
							<th scope="col">Email</th>
							<th scope="col">Sujet</th>
							<th scope="col">Statut
							</th>
							<th scope="col"></th>
						</tr>
					</thead>
					<tbody>
						{% for m in messages|sort((m1, m2) => m1.statut - m2.statut) %}
							{% if m.statut == 0 %}
								<tr class="bg-danger text-center text-black">
									<td>{{m.email}}</td>
									<td>{{m.sujet}}</td>
									<td>Ouvert</td>
									<td class="">
										<a href="{{path('infomessage',{'id':m.id})}}">
											<i class="bi bi-wechat text-black"></i>
										</a>
									</td>
								</tr>
							{% else %}
								<tr class="bg-success text-center text-black">
									<td>{{m.email}}</td>
									<td>{{m.sujet}}</td>
									<td>Fermer</td>
									<td class=""></td>
								</tr>
							{% endif %}
						{% endfor %}
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>{% endblock %}

